generator client {
  provider     = "prisma-client"
  output       = "../generated/prisma"
  moduleFormat = "cjs"
}

datasource db {
  provider = "postgresql"
}

model User {
  id         Int          @id @default(autoincrement())
  email      String       @unique
  password   String
  name       String?
  ministries Collection[]
}

model Collection {
  id        Int      @id @default(autoincrement())
  timestamp DateTime
  title     String
  heading   String
  posts     Post[]
  published Boolean  @default(true)
  author    User     @relation(fields: [authorId], references: [id])
  authorId  Int
}

model Post {
  id           Int        @id @default(autoincrement())
  title        String
  content      Json
  published    Boolean    @default(true)
  timestamp    DateTime
  modified     DateTime?
  collection   Collection @relation(fields: [collectionId], references: [id])
  collectionId Int
}
